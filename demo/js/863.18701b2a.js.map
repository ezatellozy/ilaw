{"version":3,"file":"js/863.18701b2a.js","mappings":"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","sources":["webpack://ilaw/./src/components/StripePayment.vue","webpack://ilaw/./src/components/StripePayment.vue?c94f"],"sourcesContent":["<template>\r\n  <form class=\"uk-padding\">\r\n    <div class=\"uk-margin uk-text-center\">\r\n      <p class=\"stripeError\" v-if=\"stripeError\">\r\n        {{ stripeError }}\r\n      </p>\r\n    </div>\r\n    <div class=\"uk-margin uk-text-left\">\r\n      <label class=\"uk-form-label\" for=\"Card Number\">\r\n        Card Number\r\n      </label>\r\n      <div class=\"uk-form-controls\">\r\n        <div\r\n          id=\"card-number\"\r\n          class=\"uk-input\"\r\n          :class=\"{ 'uk-form-danger': cardNumberError }\"\r\n        ></div>\r\n        <span class=\"help-block\" v-if=\"cardNumberError\">\r\n          {{ cardNumberError }}\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <div class=\"uk-grid-small uk-text-left\" uk-grid>\r\n      <div class=\"uk-width-1-2@s\">\r\n        <label class=\"uk-form-label\" for=\"Card CVC\">\r\n          Card CVC\r\n        </label>\r\n        <div class=\"uk-form-controls\">\r\n          <div\r\n            id=\"card-cvc\"\r\n            class=\"uk-input\"\r\n            :class=\"{ 'uk-form-danger': cardCvcError }\"\r\n          ></div>\r\n          <span class=\"help-block\" v-if=\"cardCvcError\">\r\n            {{ cardCvcError }}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"uk-width-1-2@s\">\r\n        <label class=\"uk-form-label\" for=\"Expiry Month\">\r\n          Expiry\r\n        </label>\r\n        <div class=\"uk-form-controls\">\r\n          <div\r\n            id=\"card-expiry\"\r\n            class=\"uk-input\"\r\n            :class=\"{ 'uk-form-danger': cardExpiryError }\"\r\n          ></div>\r\n          <span class=\"help-block\" v-if=\"cardExpiryError\">\r\n            {{ cardExpiryError }}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"uk-margin uk-margin-remove-bottom uk-text-right\">\r\n      <button\r\n        class=\"uk-button uk-button-small uk-button-default\"\r\n        @click.prevent=\"reset()\"\r\n      >\r\n        Reset\r\n      </button>\r\n      <button\r\n        class=\"uk-button uk-button-small uk-button-primary\"\r\n        @click.prevent=\"submitFormToCreateToken()\"\r\n      >\r\n        <span v-if=\"loading\">processing...</span>\r\n        <span v-if=\"!loading\">Donate $1200</span>\r\n      </button>\r\n    </div>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'CardOnly',\r\n\r\n  data() {\r\n    return {\r\n      card: {\r\n        cvc: '',\r\n        number: '',\r\n        expiry: '',\r\n      },\r\n      //elements\r\n      cardNumber: '',\r\n      cardExpiry: '',\r\n      cardCvc: '',\r\n      stripe: null,\r\n      // errors\r\n      stripeError: '',\r\n      cardCvcError: '',\r\n      cardExpiryError: '',\r\n      cardNumberError: '',\r\n      loading: false,\r\n    }\r\n  },\r\n  mounted() {\r\n    this.setUpStripe()\r\n  },\r\n  methods: {\r\n    setUpStripe() {\r\n      if (window.Stripe === undefined) {\r\n        alert('Stripe V3 library not loaded!')\r\n      } else {\r\n        const stripe = window.Stripe(\r\n          'pk_test_51LD4NMCFpxZuZ7GgdEHTVS4ZeguXdH79wvjEa9Fpy68KVD9pwkgJ4iwa3k9vK7M2nvY2giHrXGYoLPWjZJjSStRm0078bwyXVe',\r\n        )\r\n        this.stripe = stripe\r\n\r\n        const elements = stripe.elements()\r\n        this.cardCvc = elements.create('cardCvc')\r\n        this.cardExpiry = elements.create('cardExpiry')\r\n        this.cardNumber = elements.create('cardNumber')\r\n\r\n        this.cardCvc.mount('#card-cvc')\r\n        this.cardExpiry.mount('#card-expiry')\r\n        this.cardNumber.mount('#card-number')\r\n\r\n        this.listenForErrors()\r\n      }\r\n    },\r\n\r\n    listenForErrors() {\r\n      const vm = this\r\n\r\n      this.cardNumber.addEventListener('change', (event) => {\r\n        vm.toggleError(event)\r\n        vm.cardNumberError = ''\r\n        vm.card.number = event.complete ? true : false\r\n      })\r\n\r\n      this.cardExpiry.addEventListener('change', (event) => {\r\n        vm.toggleError(event)\r\n        vm.cardExpiryError = ''\r\n        vm.card.expiry = event.complete ? true : false\r\n      })\r\n\r\n      this.cardCvc.addEventListener('change', (event) => {\r\n        vm.toggleError(event)\r\n        vm.cardCvcError = ''\r\n        vm.card.cvc = event.complete ? true : false\r\n      })\r\n    },\r\n\r\n    toggleError(event) {\r\n      if (event.error) {\r\n        this.stripeError = event.error.message\r\n      } else {\r\n        this.stripeError = ''\r\n      }\r\n    },\r\n\r\n    submitFormToCreateToken() {\r\n      this.clearCardErrors()\r\n      let valid = true\r\n\r\n      if (!this.card.number) {\r\n        valid = false\r\n        this.cardNumberError = 'Card Number is Required'\r\n      }\r\n      if (!this.card.cvc) {\r\n        valid = false\r\n        this.cardCvcError = 'CVC is Required'\r\n      }\r\n      if (!this.card.expiry) {\r\n        valid = false\r\n        this.cardExpiryError = 'Month is Required'\r\n      }\r\n      if (this.stripeError) {\r\n        valid = false\r\n      }\r\n      if (valid) {\r\n        this.createToken()\r\n      }\r\n    },\r\n\r\n    createToken() {\r\n      // this.stripe.createToken(this.cardNumber).then((result) => {\r\n      //   if (result.error) {\r\n      //     this.stripeError = result.error.message\r\n      //   } else {\r\n      //     const token = result.token.id\r\n      //     console.log(token)\r\n      //     //send the token to your server\r\n      //     //clear the inputs\r\n      //   }\r\n      this.stripe\r\n        .createPaymentMethod({\r\n          type: 'card',\r\n          card: this.cardNumber,\r\n          billing_details: {\r\n            name: 'Jenny Rosen',\r\n          },\r\n        })\r\n        .then((result) => {\r\n          console.log(result)\r\n        })\r\n      console.log(this.stripe)\r\n      let amount = 1000\r\n      this.stripe.paymentIntents({\r\n        amount,\r\n        currency: 'usd',\r\n        payment_method_types: ['card'],\r\n        metadata: { uid: 'some_userID' },\r\n      })\r\n      // this.stripe\r\n      //   .retrievePaymentIntent(\r\n      //     'pi_1EnkCdCLU6thghKmdb4hLYsy_secret_QSwO5XeANoP2d6gJXOlV8i6pH',\r\n      //   )\r\n      //   .then((result) => {\r\n      //     console.log(result)\r\n      //   })\r\n\r\n      //   this.stripe.paymentRequest({\r\n      //     currency: 'aed',\r\n      //     total: {\r\n      //       label: 'Demo total',\r\n      //       amount: 1000,\r\n      //     },\r\n      //     country: 'AE',\r\n      //   })\r\n      // })\r\n    },\r\n\r\n    clearElementsInputs() {\r\n      this.cardCvc.clear()\r\n      this.cardExpiry.clear()\r\n      this.cardNumber.clear()\r\n    },\r\n\r\n    clearCardErrors() {\r\n      this.stripeError = ''\r\n      this.cardCvcError = ''\r\n      this.cardExpiryError = ''\r\n      this.cardNumberError = ''\r\n    },\r\n\r\n    reset() {\r\n      this.clearElementsInputs()\r\n      this.clearCardErrors()\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n[v-cloak] {\r\n  display: none;\r\n}\r\n\r\n.help-block {\r\n  color: red;\r\n  font-size: 13px;\r\n}\r\n\r\nform {\r\n  border-width: 2px;\r\n  border-style: solid;\r\n  border-color: yellow;\r\n}\r\n\r\nlabel.uk-form-label {\r\n  color: blue;\r\n}\r\n\r\nbutton.uk-button-primary {\r\n  color: yellow;\r\n  font-weight: bold;\r\n  background-color: #1e87f0;\r\n}\r\n\r\n#card-number,\r\n#card-cvc,\r\n#card-expiry {\r\n  padding-top: 10px;\r\n}\r\n\r\n.stripeError {\r\n  color: red;\r\n  font-style: italic;\r\n}\r\n</style>\r\n","import { render } from \"./StripePayment.vue?vue&type=template&id=6ed92858\"\nimport script from \"./StripePayment.vue?vue&type=script&lang=js\"\nexport * from \"./StripePayment.vue?vue&type=script&lang=js\"\n\nimport \"./StripePayment.vue?vue&type=style&index=0&id=6ed92858&lang=css\"\n\nimport exportComponent from \"D:\\\\projects\\\\ilaw\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","for","stripeError","id","cardNumberError","cardCvcError","cardExpiryError","reset","submitFormToCreateToken","loading","name","data","card","cvc","number","expiry","cardNumber","cardExpiry","cardCvc","stripe","mounted","this","setUpStripe","methods","undefined","window","Stripe","alert","elements","create","mount","listenForErrors","vm","addEventListener","event","toggleError","complete","error","message","clearCardErrors","valid","createToken","createPaymentMethod","type","billing_details","then","result","console","log","amount","paymentIntents","currency","payment_method_types","metadata","uid","clearElementsInputs","clear","__exports__","render"],"sourceRoot":""}